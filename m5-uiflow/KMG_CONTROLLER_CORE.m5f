{"components":[{"id":"_coretwoscreen","createTime":1741598644509,"name":"screen","x":0,"y":0,"width":320,"height":240,"backgroundColor":"#FFFFFF","backgroundImage":"","size":0,"screenType":"default","type":"screen"},{"id":"____buttonA","createTime":1741598644509,"name":"ButtonA","buttonIndex":0,"x":44,"y":274,"width":64,"height":24,"text":"ButtonA","visibility":false,"type":"button"},{"id":"____buttonB","createTime":1741598644509,"name":"ButtonB","buttonIndex":1,"x":158,"y":274,"width":64,"height":24,"text":"ButtonB","visibility":false,"type":"button"},{"id":"____buttonC","createTime":1741598644509,"name":"ButtonC","buttonIndex":2,"x":273,"y":274,"width":64,"height":24,"text":"ButtonC","visibility":false,"type":"button"},{"id":"`^_$&-SPE@%lre76","createTime":1741599119811,"isCoreTwo":true,"isPaper":false,"name":"Hue_staus","x":182,"y":33,"color":"#000","text":"label0","font":"FONT_MONT_14","rotation":0,"screenType":"default","type":"label","layer":5},{"id":"Zv3NQ!7`JMBx@Zp^","createTime":1741599119811,"isCoreTwo":true,"isPaper":false,"name":"hue_label","x":30,"y":33,"color":"#000","text":"Hue status test:","font":"FONT_MONT_14","rotation":0,"screenType":"default","type":"label","layer":6},{"id":"DXO7gwjzrzm`S8x=","createTime":1741599119811,"isCoreTwo":true,"isPaper":false,"name":"timeLabel","x":30,"y":53,"color":"#000","text":"Test time","font":"FONT_MONT_14","rotation":0,"screenType":"default","type":"label","layer":7}],"type":"core2","versions":"Beta","units":[],"hats":[],"stamps":[],"blockly":"<variables><variable type=\"json\" id=\"gh@j5WYQv8S|*/QgbTr9\">json_object</variable><variable id=\"/w@AFgNu?qSdRT||,~vz\">apikey</variable><variable id=\"wHu{wMd]ANXvKCW5P$=A\">hue_username</variable><variable id=\")h!7OD/pjBQ5[4w,4U^Z\">onBoolean</variable></variables><block type=\"mqtt_sub\" id=\"K_0CmojC1YUyEZ|*Vfce\" x=\"-890\" y=\"-1270\"><value name=\"FROM\"><shadow type=\"text\" id=\"tzIjS8Y_ep9JvOxCjIsH\"><field name=\"TEXT\">HUE_CONTROLLER_STATUS_REQUEST</field></shadow></value><statement name=\"FUNC\"><block type=\"http_request\" id=\"_kl8}2@]t1h43Gh/K^eo\"><field name=\"method\">GET</field><value name=\"url\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_add\" id=\"efmz{q0dRLx!kp).Oxj|\"><value name=\"arg0\"><shadow type=\"text\" disabled=\"true\"><field name=\"TEXT\"></field></shadow><block type=\"text_add\" id=\"H-7MW!gc]qz{!*6?{1$=\"><value name=\"arg0\"><shadow type=\"text\" id=\"SlbWs0`D]25o]i=TtL2A\"><field name=\"TEXT\">http://10.78.16.62/api/</field></shadow></value><value name=\"arg1\"><block type=\"variables_get\" id=\"M7_=?HGyJKm{AaH$YQSc\"><field name=\"VAR\" id=\"wHu{wMd]ANXvKCW5P$=A\">hue_username</field></block></value></block></value><value name=\"arg1\"><block type=\"text\" id=\"_uVN*xpIZ=OzshG/l.6y\"><field name=\"TEXT\">/lights</field></block></value></block></value><value name=\"headers\"><block type=\"map_on_loop\" id=\"DfOC0a%J9!ye0@3-hpW4\"></block></value><value name=\"data\"><block type=\"map_on_loop\" id=\"vZy5F51_KY_IYBwJQvQa\"></block></value><statement name=\"success\"><block type=\"mqtt_publish\" id=\"[I22EB/h=SCDL-@a?xlL\"><value name=\"FROM\"><shadow type=\"text\" id=\"_fGdJ1#u|[3rL?R4wm-_\"><field name=\"TEXT\">HUE_CONTROLLER/status</field></shadow></value><value name=\"MSG\"><shadow type=\"text\" id=\"MiBgK)njblekJw7c]MN,\"><field name=\"TEXT\"></field></shadow><block type=\"get_data\" id=\"}/{n5!B6r4[WNHep-FvT\"></block></value><value name=\"qos\"><shadow type=\"math_slider\" id=\"sSMd#pM7q*%$vgKK0b_2\"><field name=\"NUM\" max=\"2\" step=\"1\">0</field></shadow></value></block></statement><statement name=\"fail\"><block type=\"mqtt_publish\" id=\",u,v+gx79?f7XXa^P%1a\"><value name=\"FROM\"><shadow type=\"text\" id=\"CzduS}]UfMz778`qat7h\"><field name=\"TEXT\">HUE_CONTROLLER/status</field></shadow></value><value name=\"MSG\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"get_data\" id=\"ThEXJ63vX-aho7K4HGQs\"></block></value><value name=\"qos\"><shadow type=\"math_slider\" id=\"?JR9-bk)}LIbz!+aN|d)\"><field name=\"NUM\" max=\"2\" step=\"1\">0</field></shadow></value></block></statement></block></statement></block><block type=\"mqtt_sub\" id=\"c!pooechDEMNi1o|Trqk\" x=\"-70\" y=\"-1050\"><value name=\"FROM\"><shadow type=\"text\" id=\".39~(|cJXuP3PdGI?R}^\"><field name=\"TEXT\">HUE_CONTROLLER_COMMAND</field></shadow></value><statement name=\"FUNC\"><block type=\"variables_set\" id=\"ZLMYz5Pv%oqn.5[ns4,f\"><field name=\"VAR\" id=\"gh@j5WYQv8S|*/QgbTr9\" variabletype=\"json\">json_object</field><value name=\"VALUE\"><block type=\"loads_json\" id=\"N/b%-*|.b-V7WfM;boL6\"><value name=\"JSON_VAR\"><shadow type=\"text\" id=\"4MkGcSS#+M*n}@uH*,_$\"><field name=\"TEXT\"></field></shadow><block type=\"mqtt_get_topic_data\" id=\"9$N3@4^I)f*O[pNfIeDn\"></block></value></block></value><next><block type=\"controls_ifelse\" id=\"wjX.19V6}j~T=,9t21.8\"><value name=\"IF0\"><block type=\"json_get_key_value\" id=\"1WCv[9yXcQuAZpNp_7U?\"><value name=\"JSON_VAR\"><block type=\"variables_get\" id=\"[sQBHs^#)=$Ykt6504K=\"><field name=\"VAR\" id=\"gh@j5WYQv8S|*/QgbTr9\" variabletype=\"json\">json_object</field></block></value><value name=\"key\"><shadow type=\"text\" id=\"p:n?MJZf/OP2ouIoc_:P\"><field name=\"TEXT\">on</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"M;[m8JRtbh9_fd6P6y,Z\"><field name=\"VAR\" id=\")h!7OD/pjBQ5[4w,4U^Z\">onBoolean</field><value name=\"VALUE\"><block type=\"logic_boolean\" id=\"1,%9Or#w*lmY~)hYR}T?\"><field name=\"BOOL\">TRUE</field></block></value></block></statement><statement name=\"ELSE\"><block type=\"variables_set\" id=\"~0Ar;1e+c`KM3%Jg4?-`\"><field name=\"VAR\" id=\")h!7OD/pjBQ5[4w,4U^Z\">onBoolean</field><value name=\"VALUE\"><block type=\"logic_boolean\" id=\"2n5XPi=U?pO=TwpL)y5R\"><field name=\"BOOL\">FALSE</field></block></value></block></statement><next><block type=\"http_request\" id=\"}nPUVYBN8RQEZ7:#!Rh;\"><field name=\"method\">PUT</field><value name=\"url\"><shadow type=\"text\" id=\"Gv{)bzb)@j9j;R9:3n[p\"><field name=\"TEXT\"></field></shadow><block type=\"text_add\" id=\"_/W55%v^BOu%wG3o6jU2\"><value name=\"arg0\"><shadow type=\"text\" id=\"|Pa}~~{qG:=16]5xMM_6\" disabled=\"true\"><field name=\"TEXT\"></field></shadow><block type=\"text_add\" id=\"asHFbT!3]20fDhMOz;]V\"><value name=\"arg0\"><shadow type=\"text\" id=\"41nxtvDi|?Frl1YYbvka\"><field name=\"TEXT\">http://10.78.16.62/api/</field></shadow></value><value name=\"arg1\"><block type=\"variables_get\" id=\"uUA8(Un?Y)_@{:wFAYte\"><field name=\"VAR\" id=\"wHu{wMd]ANXvKCW5P$=A\">hue_username</field></block></value></block></value><value name=\"arg1\"><block type=\"text_add\" id=\"?anU[jf#G,bClE=}sauP\"><value name=\"arg0\"><shadow type=\"text\" id=\"#6(UQ`6W7tyai?4v.S`V\"><field name=\"TEXT\">/lights/</field></shadow></value><value name=\"arg1\"><block type=\"text_add\" id=\"D=!m^=6Lg=-lS~A|5rL5\"><value name=\"arg0\"><shadow type=\"text\" id=\"Y2GnXT.$5=(M540SJ-W=\"><field name=\"TEXT\">14</field></shadow><block type=\"json_get_key_value\" id=\"H-eSv1Yu#rkF#33kkvoL\"><value name=\"JSON_VAR\"><block type=\"variables_get\" id=\"IN29{49Rs_a4OmRY*t=k\"><field name=\"VAR\" id=\"gh@j5WYQv8S|*/QgbTr9\" variabletype=\"json\">json_object</field></block></value><value name=\"key\"><shadow type=\"text\" id=\"BCv=E8f9jVW|bxJl]FCr\"><field name=\"TEXT\">light</field></shadow></value></block></value><value name=\"arg1\"><block type=\"text\" id=\"q5gqWqZO]T{3I5-zZcj4\"><field name=\"TEXT\">/state</field></block></value></block></value></block></value></block></value><value name=\"headers\"><block type=\"map_on_loop\" id=\";^$v7G8lNfwCxR,asUZ6\"><statement name=\"LOOP\"><block type=\"create_map_key\" id=\"8#%w+5-IrWWO6k{g26eb\"><value name=\"key\"><shadow type=\"text\" id=\"zOh~ARbi?C.,I1KMMQL1\"><field name=\"TEXT\">bri</field></shadow></value><value name=\"value\"><shadow type=\"text\" id=\"wv_r4l|WiC3UqoPp{wk.\"><field name=\"TEXT\">100</field></shadow><block type=\"json_get_key_value\" id=\"|_RHsF;U$2z#bDqC/~vT\"><value name=\"JSON_VAR\"><block type=\"variables_get\" id=\"4Q%IJDWQ~=9OIlCv8-{!\"><field name=\"VAR\" id=\"gh@j5WYQv8S|*/QgbTr9\" variabletype=\"json\">json_object</field></block></value><value name=\"key\"><shadow type=\"text\" id=\".tsqMaZ9dka6{3R{BLBV\"><field name=\"TEXT\">light</field></shadow></value></block></value></block></statement></block></value><value name=\"data\"><block type=\"map_on_loop\" id=\"{g;fzMTvFPg?#EhB$xGw\"><statement name=\"LOOP\"><block type=\"create_map_key\" id=\"u[P$sYsb}}`L,IB,ebDU\"><value name=\"key\"><shadow type=\"text\" id=\"|5pKDiq1ibB0$}*?s6K3\"><field name=\"TEXT\">on</field></shadow></value><value name=\"value\"><shadow type=\"text\" id=\"6*j0B{2qU$!nm/URcVA-\"><field name=\"TEXT\">False</field></shadow><block type=\"variables_get\" id=\"P*ro1TuEs4Ge-,FkZ1b,\"><field name=\"VAR\" id=\")h!7OD/pjBQ5[4w,4U^Z\">onBoolean</field></block></value></block></statement></block></value><statement name=\"success\"><block type=\"mqtt_publish\" id=\":,CYUl=ej`m3Mi]bntW+\"><value name=\"FROM\"><shadow type=\"text\" id=\"(KbkqHZ+a2[bu*B*=9p}\"><field name=\"TEXT\">HUE_CONTROLLER_STATUS</field></shadow></value><value name=\"MSG\"><shadow type=\"text\" id=\"}(px4-]#I;j2=QHwySgx\"><field name=\"TEXT\"></field></shadow><block type=\"get_data\" id=\"MwEVyd03{z@qr}g%BaNy\"></block></value><value name=\"qos\"><shadow type=\"math_slider\" id=\"Vq,pL3bTzzk?mvX`M2+x\"><field name=\"NUM\" max=\"2\" step=\"1\">0</field></shadow></value></block></statement><statement name=\"fail\"><block type=\"mqtt_publish\" id=\"*e|.0Nr)L`Q3tNnSzqjb\"><value name=\"FROM\"><shadow type=\"text\" id=\"4A)5IS8a}4Y[cgJ|Wp:)\"><field name=\"TEXT\">HUE_CONTROLLER_STATUS</field></shadow></value><value name=\"MSG\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"get_data\" id=\"4d,p0X%8{/eZza^JKP?i\"></block></value><value name=\"qos\"><shadow type=\"math_slider\" id=\"|`z0*elE[fn?.V_!+M{k\"><field name=\"NUM\" max=\"2\" step=\"1\">0</field></shadow></value></block></statement></block></next></block></next></block></statement></block><block type=\"procedures_defnoreturn\" id=\"8JNeY5V58MV7`m{p]F5S\" x=\"-870\" y=\"-750\"><field name=\"NAME\">testHUE</field><comment pinned=\"false\" h=\"80\" w=\"160\">Describe this function...</comment><statement name=\"STACK\"><block type=\"label_set_text\" id=\"]bT]}D?zRRZ@AifL,X8,\"><field name=\"COMPONENT\">timeLabel</field><value name=\"TEXT\"><shadow type=\"text\" id=\"#04}A$z_kcNt:|VHf7Hj\"><field name=\"TEXT\">Hello M5</field></shadow><block type=\"ntp_get_time_format\" id=\"`GoF@aa*J+#$nkYfdMe+\"><value name=\"format\"><shadow type=\"text\" id=\".SPD~3y0p90t%bF#f_OR\"><field name=\"TEXT\">:</field></shadow></value></block></value><next><block type=\"http_request\" id=\"M4,oG6z_.(8M|5+uBW,.\"><field name=\"method\">GET</field><value name=\"url\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"text_add\" id=\"$+a+[u28V)M?GyHw!dYH\"><value name=\"arg0\"><shadow type=\"text\" disabled=\"true\"><field name=\"TEXT\"></field></shadow><block type=\"text_add\" id=\"2YpieI8FEZH#k)jlZ-Ay\"><value name=\"arg0\"><shadow type=\"text\" id=\"qq4*).6tnd,qzhD1x_#7\"><field name=\"TEXT\">http://10.78.16.62/api/</field></shadow></value><value name=\"arg1\"><block type=\"variables_get\" id=\"Qf(EJTlhb$CgzXp8=H=e\"><field name=\"VAR\" id=\"wHu{wMd]ANXvKCW5P$=A\">hue_username</field></block></value></block></value><value name=\"arg1\"><block type=\"text\" id=\"Yc*_P0lr!NbFS#A(oL#4\"><field name=\"TEXT\">/lights/14</field></block></value></block></value><value name=\"headers\"><block type=\"map_on_loop\" id=\"y-MYoLmWh@-HZ|l+Mqw}\"></block></value><value name=\"data\"><block type=\"map_on_loop\" id=\"DgqY{1Bi0#t`tyNAMzM+\"></block></value><statement name=\"success\"><block type=\"label_set_text\" id=\"g:so?:0)MX!G4`6{ya3R\"><field name=\"COMPONENT\">Hue_staus</field><value name=\"TEXT\"><shadow type=\"text\" id=\"~E1/,]g0Qm_cb!8]Qriw\"><field name=\"TEXT\">Ok</field></shadow></value></block></statement><statement name=\"fail\"><block type=\"label_set_text\" id=\"Yb@^N#x$.$VVytp1Lz(Y\"><field name=\"COMPONENT\">Hue_staus</field><value name=\"TEXT\"><shadow type=\"text\" id=\"af#x)dKSzf,8G2k7m2t2\"><field name=\"TEXT\">Ok</field></shadow><block type=\"get_data\" id=\"NsVYd:IB%|t?9._VEvFE\"></block></value></block></statement></block></next></block></statement></block><block type=\"basic_on_setup\" id=\"setup_block\" deletable=\"false\" x=\"-12\" y=\"-186\"><next><block type=\"variables_set\" id=\"[krjU6neE#_rED.L]g)R\"><field name=\"VAR\" id=\"/w@AFgNu?qSdRT||,~vz\">apikey</field><value name=\"VALUE\"><block type=\"text\" id=\"(qDjSf/I:8@F/%%;V7^=\"><field name=\"TEXT\">2F3158FF</field></block></value><next><block type=\"variables_set\" id=\"Bey;?YhW2*)tS+ERrlO|\"><field name=\"VAR\" id=\"wHu{wMd]ANXvKCW5P$=A\">hue_username</field><value name=\"VALUE\"><block type=\"text\" id=\"LA(^li^HR:kN{h-g||G;\"><field name=\"TEXT\">6MXQnVOMUBwAuqXnedzRZ4cvhaI9MCLgSjYOrjdx</field></block></value><next><block type=\"mqtt_set_client\" id=\"$*N7niV?/G{3t.g$7Grv\"><mutation SSL=\"True\" key=\"Null\" cert=\"Null\"></mutation><value name=\"ID\"><shadow type=\"text\" id=\")5sww/LX-01/6)A^ncd=\"><field name=\"TEXT\"></field></shadow></value><value name=\"SERVER\"><shadow type=\"text\" id=\"-H;aN`_`pHu$d=9k3W!B\"><field name=\"TEXT\">mqtt.nextservices.dk</field></shadow></value><value name=\"PORT\"><shadow type=\"math_number\" id=\"vPz`pgH{U_FCR|dw:0^|\"><field name=\"NUM\">0</field></shadow></value><value name=\"USER\"><shadow type=\"text\" id=\"$g9V8YEk4p^r(]owU7+%\"><field name=\"TEXT\"></field></shadow></value><value name=\"PASSWORD\"><shadow type=\"text_password\" id=\"-ALo-Tpq3G@65E9dybUX\"><field name=\"TEXT\"></field></shadow></value><value name=\"KEEPALIVE\"><shadow type=\"math_slider\" id=\"6Oyf8l=#=t@$=u?woxs{\"><field name=\"NUM\" max=\"65536\" step=\"1\">300</field></shadow></value><next><block type=\"mqtt_start\" id=\"R,Mxz))t+h.Hi$8f`c5M\"><next><block type=\"mqtt_publish\" id=\"UM9ncyHrlES[.8;S=.Mq\"><value name=\"FROM\"><shadow type=\"text\" id=\"nFeSRHLHwVNqX-|r)%[j\"><field name=\"TEXT\">KMG CONTROLLER STARTUP</field></shadow></value><value name=\"MSG\"><shadow type=\"text\" id=\"YQ^;WDQ]|Blb-wZNkN9J\"><field name=\"TEXT\">Start</field></shadow></value><value name=\"qos\"><shadow type=\"math_slider\" id=\"]to[`k}72+vJjT}=i~Uz\"><field name=\"NUM\" max=\"2\" step=\"1\">0</field></shadow></value><next><block type=\"ntp_init_timezone\" id=\"fw?otd-:Gq-yb.qu38a%\"><value name=\"host\"><shadow type=\"text\" id=\"4S0PNm|/]*/]/?W*F@gr\"><field name=\"TEXT\">dk.pool.ntp.org</field></shadow></value><value name=\"h\"><shadow type=\"math_number\" id=\"=):Wf?)?$rIb=rIB`E[%\"><field name=\"NUM\">1</field></shadow></value><value name=\"min\"><shadow type=\"math_slider\" id=\"U#SM(dRRwp8}2/Q!g.8X\"><field name=\"NUM\" max=\"60\" step=\"1\">0</field></shadow></value><next><block type=\"timer_setStart\" id=\"jU.XC79r7epZ-RVAD.#8\"><field name=\"start_name\">ntpTimer</field><field name=\"mode\">0x00</field><value name=\"period\"><shadow type=\"math_number\" id=\"T0y@[7)j5BNk7-n;*LX.\"><field name=\"NUM\">360000</field></shadow></value><next><block type=\"procedures_callnoreturn\" id=\";,)U.@Sos?IsI+j|IHCl\"><mutation name=\"testHUE\"></mutation></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block><block type=\"timer_callback\" id=\"+_AHb8J@%M/}MR*H1OeA\" x=\"-10\" y=\"410\"><field name=\"name\">ntpTimer</field><statement name=\"FUNC\"><block type=\"ntp_init_timezone\" id=\"z:g3Pdc-n0edX@9?ps^S\"><value name=\"host\"><shadow type=\"text\" id=\"BrT-{a*fIrZz(D|GdH@M\"><field name=\"TEXT\">dk.pool.ntp.org</field></shadow></value><value name=\"h\"><shadow type=\"math_number\" id=\"w;)T2TR]P](G@eE42P`2\"><field name=\"NUM\">1</field></shadow></value><value name=\"min\"><shadow type=\"math_slider\" id=\"+#B/!FPiA)c_(s~j[vKp\"><field name=\"NUM\" max=\"60\" step=\"1\">0</field></shadow></value><next><block type=\"procedures_callnoreturn\" id=\"ZRN_od0[2vK#ZP~Ol2J3\"><mutation name=\"testHUE\"></mutation></block></next></block></statement></block>","Blockly.Remotes":[],"Blockly.RemotePlus":[{"id":"__title","blockId":"","createTime":1741601822134,"name":"M5RemoteTitle","dragAndDrop":false,"resizable":false,"options":{"minWidth":1,"minHeight":1,"maxWidth":6,"maxHeight":10,"defaultWidth":2,"defaultHeight":1},"w":2,"h":1,"bgColor":"#0080FF","color":"#fff","fontsize":"M","label":"M5Remote","interval":3000,"code":"","event":"","dataSource":"none","ezdataToken":"cVnHSx3FRtajjoh9rB5FOSeXPc0saO0w","topic":"","needShadow":false,"type":"title","x":0,"y":0}],"modules":[],"cbIdList_":[],"eventCBIdList_":[],"apikey":"2F3158FF","uuid":"bc998464-fe3c-4f0e-af79-79895a8a7615"}